class Field
  attr_accessor :images,:layout

  def initialize
    @layout=[  # 26x16 
      [10,10,10,10,10,10,10,10,10,10,10, 0, 0, 0,10,10,10,10,10,10,10,10,10,10,10,10],
      [10,10,10,10,10,10,10,10,10,10,10, 0, 0, 0,10,10,10,10,10,10,10,10,10,10,10,10],
      [10,10,10, 0, 0, 0, 0,10,10,10,10, 0, 0, 0, 0,10,10,10,10,10,10,10,10,10,10,10],
      [10,10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,10,10,10,10,10,10,10,10,10],
      [10,10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,10,10,10,10,10,10],
      [10,10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,10,10,10,10],
      [10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,10,10],
      [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],  # center
      [10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,10,10,10],
      [10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,10,10,10,10,10],
      [10,10, 0, 0, 0, 0, 0, 0, 0,10,10, 0, 0, 0, 0, 0, 0, 0, 0,10,10,10,10,10,10,10],
      [10,10,10, 0, 0, 0, 0, 0,10,10,10, 0, 0, 0, 0, 0, 0, 0, 0,10,10,10,10,10,10,10],
      [10,10,10, 0, 0, 0, 0,10,10,10,10, 0, 0, 0, 0, 0, 0,10,10,10,10,10,10,10,10,10],
      [10,10,10,10,10, 0, 0,10,10,10,10, 0, 0, 0, 0, 0,10,10,10,10,10,10,10,10,10,10],
      [10,10,10,10,10,10,10,10,10,10,10, 0, 0, 0,10,10,10,10,10,10,10,10,10,10,10,10],
      [10,10,10,10,10,10,10,10,10,10,10, 0, 0, 0,10,10,10,10,10,10,10,10,10,10,10,10]
    ]
    @images = {}
    images[0] = Image.load('images/ground.png')
    images[1] = Image.load('images/load.png')
    images[2]=nil
    images[3]=nil
    images[4]=nil
    images[5]=nil
    images[6]=nil
    images[7]=nil
    images[8]=nil
    images[9]=nil
    images[10] = Image.load('images/sea.png')

  end

  def drawField (scroll_x:0, scroll_y:0)
    @layout.each_with_index do |line, id_l|
      line.each_with_index do |num, id|
        Window.draw(32 * id + scroll_x, 32 * id_l + scroll_y, images[num])
      end
    end
  end

  def getFieldVal(x, y)
    return layout[y][x]
  end

  def can_walk(x,y)
    _x = x/CELL_WIDTH
    _y = y/CELL_HEIGHT

    case getFieldVal(_x,_y)
    when 10
      false
    else
      true
    end
  end
end