class Field
  def initialize
    @layout=[  # 26x16 
      [10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10],
      [10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10],
      [10,10,10, 0, 0, 0, 0,10,10,10,10, 0, 0, 0, 0,10,10,10,10,10,10,10,10,10,10,10],
      [10,10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,10,10,10,10,10,10,10,10,10],
      [10,10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,10,10,10,10,10,10],
      [10,10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,10,10,10,10],
      [10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,10,10],
      [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
      [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],  # center
      [10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,10,10,10],
      [10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,10,10,10,10,10],
      [10,10, 0, 0, 0, 0, 0, 0, 0,10,10, 0, 0, 0, 0, 0, 0, 0, 0,10,10,10,10,10,10,10],
      [10,10,10, 0, 0, 0, 0, 0,10,10,10, 0, 0, 0, 0, 0, 0, 0, 0,10,10,10,10,10,10,10],
      [10,10,10, 0, 0, 0, 0,10,10,10,10,10, 0, 0,10,10,10,10,10,10,10,10,10,10,10,10],
      [10,10,10,10,10, 0, 0,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10],
      [10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10],
      [10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10]
    ]
    @image_field = Image.load('images/ground.png')
    @image_sea = Image.load('images/sea.png')
    @image_load = Image.load('images/load.png')
    @images = [@image_field, @image_load, nil, nil, nil, nil, nil, nil, nil, nil, @image_sea]
  end

  def drawField (scroll_x:0)
    @layout.each_with_index do |line, id_l|
      line.each_with_index do |num, id|
        Window.draw(32 * id + scroll_x, 32 * id_l, @images[num])
      end
    end
  end

  def getFieldVal(x, y)
    return @layout[y][x]
  end

  def can_walk(x,y)
    _x = x/CELL_WIDTH
    _y = y/CELL_HEIGHT

    case getFieldVal(_x,_y)
    when 10
      false
    else
      true
    end
  end
end